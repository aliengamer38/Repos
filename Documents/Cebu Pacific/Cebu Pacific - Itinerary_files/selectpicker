(function(n,t){"use strict";n.Class.selectPicker=function(){var i=this;return i.dropdownElement="",i.dropdownSelector="",i.nativeDropdownElement="",i.checkboxId="",i.dropdown={},i.defDropdown=[],i.nativeDropdown={},i.checkbox=[],i.isForMobile=!1,i.isMember=!1,i.isCheck=!1,i.travellingSelectPickerClass="travellingSelectPicker",i.setWidth=!0,i.applyStyling=!0,i.onReady=function(){(i.dropdown=t(i.dropdownElement),i.defDropdown=t(i.dropdownSelector),i.nativeDropdown=t(i.nativeDropdownElement),i.defDropdown.length!==0)&&(i.isMember&&(i.checkbox=t("#"+i.checkboxId)),i.setWidth===!0&&i.defDropdown.css("width")=="0px"&&i.defDropdown.css("width","100%"),i.defDropdown.selectmenu({change:function(n,t){i.triggerBlur(n,t)}}),i.applyStyling===!0&&i.init(),i.bindEvents(),i.addWCAGLabel(),t("body").hasClass("ignore-color")&&i.replaceIconForHighContrast())},i.init=function(){i.nativeDropdown.length===0&&i.initializeDropdownFontStyle(i.defDropdown,!1);i.isForMobile&&i.initializeDropdownFontStyle(i.nativeDropdown,!0)},i.refresh=function(){i.defDropdown=t("."+i.travellingSelectPickerClass);i.init()},i.bindEvents=function(){if(i.checkbox.length)i.checkbox.on("ifChanged",i.check);if(n.EventBus.subscribe("iamTraveller/refreshDate",i.refresh),i.nativeDropdown.length===0)i.defDropdown.on("selectmenuchange updateStyle",i.changeFontStyle);if(i.isForMobile)i.nativeDropdown.on("change.editStyle",i.changeFontStyleForNative)},i.check=function(){i.isCheck=!i.isCheck},i.triggerBlur=function(n){var i="";n!=undefined&&n.target!=null&&(i=n.target.id,t("#"+i).trigger("blur"))},i.initializeDropdownFontStyle=function(n,t){for(var u,r=0;r<n.length;r++)u=n[r].id,t?i.changeFontStyleForNative(u):i.changeFontStyle(u)},i.changeFontStyleForNative=function(n){var r=null,i;r=this.id?this.id:n;i=t("#"+r);i.val()===""?i.css("font-style","italic"):i.css("font-style","normal")},i.changeFontStyle=function(n){var u=null,e=null,r,o,s,h,f;u=this.id?this.id:n;e=u;r=t("#"+u+"-button > span.ui-selectmenu-text");u.indexOf(!1)&&(u+="-menu");o=t("#"+u).attr("aria-activedescendant");s=t("#"+u+"> li").eq(0);s.length&&o?s.get(0).id!==o?r.css("font-style","normal"):r.css("font-style","italic"):(h=t("#"+e+" > option").first().val(),f=t("#"+e+" > option:selected").val(),f!==null&&f!==undefined&&(h!==f?r.css("font-style","normal"):r.css("font-style","italic")));r.length&&i.checkbox.length&&(i.isCheck?r.css("font-style","normal"):r.css("font-style","italic"))},i.addWCAGLabel=function(){for(var u=t(".ui-selectmenu-button[role='combobox']"),r,i,n=0;n<u.length;n++)r=u.eq(n),i=r.prev().attr("aria-label"),typeof i!="undefined"&&i.length>0&&r.attr("aria-label",i)},i.replaceIconForHighContrast=function(){var n=i.defDropdown.parent().find(".ui-icon-triangle-1-s"),t,r;if(n&&n.length>0)for(t=0;t<n.length;t++)r=n.eq(t),r.prev(".wcag-selectpicker-icon").length<1&&(r.before("<p class='wcag-selectpicker-icon'>v<\/p>"),r.hide())},i};t.widget("ui.selectmenu",t.ui.selectmenu,{refresh:function(){this._super();this.element.triggerHandler("updateStyle")},updatedisplay:function(n){var r,u,t,i;if(this.menu&&this.menu.length&&this.element&&this.element.length){if(r=n&&n.callRefresh,u=n&&n.resizeButton,this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),r&&!this.menuItems.length)this.refresh();else{if(t=[],this.menuItems&&this.menuItems.length)t=this._getSelectedItem();else{if(i=this.element.find("option:selected"),!i.length)return;this._parseOptions(i);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();t=this.menu.children("li").eq(0)}if(!t.length)return;this.menuInstance.focus(null,t);this._setAria(t.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"));this._setText(this.buttonText,t.text());this.items=[];this.menuItems=null;this.menu.empty()}u&&!this.options.width&&this._resizeButton();this.element.triggerHandler("updateStyle")}},_parseOptions:function(n){var i=[],r={HR:"Croatia",385:"Croatia"};n.each(function(n,u){var f=t(u),e=f.parent("optgroup"),o={element:f,index:n,value:f.val(),label:f.text(),optgroup:e.attr("label")||"",disabled:e.prop("disabled")||f.prop("disabled")},s=r[f.val()];s&&(o.altName=s);i.push(o)});this.items=i},_renderItemData:function(n,t){var i=this._renderItem(n,t).data("ui-selectmenu-item",t);return t.altName&&i.data("altName",t.altName),i}})})(nca,jQuery)